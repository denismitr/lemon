<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>PHP: str_replace - Manual </title>

    <base href="https://www.php.net/manual/en/function.str-replace.php">
</head>
<body class="docs ">

<div id="layout" class="clearfix">
    <section id="layout-content">
        <div class="page-tools">
            <div class="edit-bug">
                <a href="https://github.com/php/doc-en">Submit a Pull Request</a>
                <a href="https://github.com/php/doc-en/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.str-replace%0A%0A---">Report a Bug</a>
            </div>
        </div><div id="function.str-replace" class="refentry">
        <div class="refnamediv">
            <h1 class="refname">str_replace</h1>
            <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">str_replace</span> &mdash; <span class="dc-title">Replace all occurrences of the search string with the replacement string</span></p>

        </div>

        <div class="refsect1 description" id="refsect1-function.str-replace-description">
            <h3 class="title">Description</h3>
            <div class="methodsynopsis dc-description">
                <span class="methodname"><strong>str_replace</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type">string</span></span> <code class="parameter">$search</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type">string</span></span> <code class="parameter">$replace</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><span class="type">string</span>|<span class="type">array</span></span> <code class="parameter">$subject</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$count</code><span class="initializer"> = <strong><code>null</code></strong></span></span><br>): <span class="type"><span class="type">string</span>|<span class="type">array</span></span></div>

            <p class="para rdfs-comment">
                This function returns a string or an array with all occurrences of
                <code class="parameter">search</code> in <code class="parameter">subject</code>
                replaced with the given <code class="parameter">replace</code> value.
            </p>
            <p class="para">
                If you don&#039;t need fancy replacing rules (like regular expressions), you
                should use this function instead of <span class="function"><a href="function.preg-replace.php" class="function">preg_replace()</a></span>.
            </p>
        </div>


        <div class="refsect1 parameters" id="refsect1-function.str-replace-parameters">
            <h3 class="title">Parameters</h3>
            <p class="para">
                If <code class="parameter">search</code> and <code class="parameter">replace</code> are
                arrays, then <span class="function"><strong>str_replace()</strong></span> takes a value from each array
                and uses them to search and replace on <code class="parameter">subject</code>. If
                <code class="parameter">replace</code> has fewer values than
                <code class="parameter">search</code>, then an empty string is used for the rest of
                replacement values. If <code class="parameter">search</code> is an array and
                <code class="parameter">replace</code> is a string, then this replacement string is
                used for every value of <code class="parameter">search</code>. The converse would
                not make sense, though.
            </p>
            <p class="para">
                If <code class="parameter">search</code> or <code class="parameter">replace</code>
                are arrays, their elements are processed first to last.
            </p>
        </div>


        <div class="refsect1 returnvalues" id="refsect1-function.str-replace-returnvalues">
            <h3 class="title">Return Values</h3>
            <p class="para">
                This function returns a string or an array with the replaced values.
            </p>
        </div>


        <div class="refsect1 examples" id="refsect1-function.str-replace-examples">
            <h3 class="title">Examples</h3>
            <p class="para">
            <div class="example" id="example-4815">
                <p><strong>Example #1 Basic <span class="function"><strong>str_replace()</strong></span> examples</strong></p>
                <div class="example-contents">
                    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Provides:&nbsp;&lt;body&nbsp;text='black'&gt;<br /></span><span style="color: #0000BB">$bodytag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"%body%"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"black"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&lt;body&nbsp;text='%body%'&gt;"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Provides:&nbsp;Hll&nbsp;Wrld&nbsp;f&nbsp;PHP<br /></span><span style="color: #0000BB">$vowels&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"e"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"i"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"o"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"u"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"A"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"E"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"I"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"O"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"U"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$onlyconsonants&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$vowels</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;World&nbsp;of&nbsp;PHP"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Provides:&nbsp;You&nbsp;should&nbsp;eat&nbsp;pizza,&nbsp;beer,&nbsp;and&nbsp;ice&nbsp;cream&nbsp;every&nbsp;day<br /></span><span style="color: #0000BB">$phrase&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"You&nbsp;should&nbsp;eat&nbsp;fruits,&nbsp;vegetables,&nbsp;and&nbsp;fiber&nbsp;every&nbsp;day."</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$healthy&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"fruits"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"vegetables"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"fiber"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$yummy&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"pizza"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"beer"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ice&nbsp;cream"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$newphrase&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$healthy</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$yummy</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$phrase</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Provides:&nbsp;2<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"ll"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"good&nbsp;golly&nbsp;miss&nbsp;molly!"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$count</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$count</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
                    </code></div>
                </div>

            </div>
            </p>
            <p class="para">
            <div class="example" id="example-4816">
                <p><strong>Example #2 Examples of potential <span class="function"><strong>str_replace()</strong></span> gotchas</strong></p>
                <div class="example-contents">
                    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Order&nbsp;of&nbsp;replacement<br /></span><span style="color: #0000BB">$str&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Line&nbsp;1\nLine&nbsp;2\rLine&nbsp;3\r\nLine&nbsp;4\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$order&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\r"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$replace&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Processes&nbsp;\r\n's&nbsp;first&nbsp;so&nbsp;they&nbsp;aren't&nbsp;converted&nbsp;twice.<br /></span><span style="color: #0000BB">$newstr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$order</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$replace</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Outputs&nbsp;F&nbsp;because&nbsp;A&nbsp;is&nbsp;replaced&nbsp;with&nbsp;B,&nbsp;then&nbsp;B&nbsp;is&nbsp;replaced&nbsp;with&nbsp;C,&nbsp;and&nbsp;so&nbsp;on...<br />//&nbsp;Finally&nbsp;E&nbsp;is&nbsp;replaced&nbsp;with&nbsp;F,&nbsp;because&nbsp;of&nbsp;left&nbsp;to&nbsp;right&nbsp;replacements.<br /></span><span style="color: #0000BB">$search&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'D'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'E'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$replace&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'B'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'C'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'D'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'E'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'F'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$subject&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$search</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$replace</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Outputs:&nbsp;apearpearle&nbsp;pear<br />//&nbsp;For&nbsp;the&nbsp;same&nbsp;reason&nbsp;mentioned&nbsp;above<br /></span><span style="color: #0000BB">$letters&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'p'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$fruit&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'pear'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$text&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'a&nbsp;p'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$output&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$letters</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fruit</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$output</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
                    </code></div>
                </div>

            </div>
            </p>
        </div>


        <div class="refsect1 notes" id="refsect1-function.str-replace-notes">
            <h3 class="title">Notes</h3>
            <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function is
binary-safe.</span></p></blockquote>
            <div class="caution"><strong class="caution">Caution</strong>
                <h1 class="title">Replacement order gotcha</h1>
                <p class="para">
                    Because <span class="function"><strong>str_replace()</strong></span> replaces left to right, it might
                    replace a previously inserted value when doing multiple replacements.
                    See also the examples in this document.
                </p>
            </div>
            <blockquote class="note"><p><strong class="note">Note</strong>:
                <p class="para">
                    This function is case-sensitive. Use <span class="function"><a href="function.str-ireplace.php" class="function">str_ireplace()</a></span>
                    for case-insensitive replace.
                </p>
                </p></blockquote>
        </div>


        <div class="refsect1 seealso" id="refsect1-function.str-replace-seealso">
            <h3 class="title">See Also</h3>
            <p class="para">
            <ul class="simplelist">
                <li class="member"><span class="function"><a href="function.str-ireplace.php" class="function" rel="rdfs-seeAlso">str_ireplace()</a> - Case-insensitive version of str_replace</span></li>
                <li class="member"><span class="function"><a href="function.substr-replace.php" class="function" rel="rdfs-seeAlso">substr_replace()</a> - Replace text within a portion of a string</span></li>
                <li class="member"><span class="function"><a href="function.preg-replace.php" class="function" rel="rdfs-seeAlso">preg_replace()</a> - Perform a regular expression search and replace</span></li>
                <li class="member"><span class="function"><a href="function.strtr.php" class="function" rel="rdfs-seeAlso">strtr()</a> - Translate characters or replace substrings</span></li>
            </ul>
            </p>
        </div>


    </div>
        <section id="usernotes">
            <div class="head">
                <span class="action"><a href="/manual/add-note.php?sect=function.str-replace&amp;redirect=https://www.php.net/manual/en/function.str-replace.php"><img src='/images/notes-add@2x.png' alt='add a note' width='12' height='12'> <small>add a note</small></a></span>
                <h3 class="title">User Contributed Notes <span class="count">34 notes</span></h3>
            </div><div id="allnotes">
            <div class="note" id="100871">  <div class="votes">
                <div id="Vu100871">
                    <a href="/manual/vote-note.php?id=100871&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd100871">
                    <a href="/manual/vote-note.php?id=100871&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V100871" title="72% like this...">
                    229
                </div>
            </div>
                <a href="#100871" class="name">
                    <strong class="user"><em>nikolaz dot tang at hotmail dot com</em></strong></a><a class="genanchor" href="#100871"> &para;</a><div class="date" title="2010-11-11 08:57"><strong>10 years ago</strong></div>
                <div class="text" id="Hcom100871">
                    <div class="phpcode"><code><span class="html">
A faster way to replace the strings in multidimensional array is to json_encode() it, do the str_replace() and then json_decode() it, like this:

<br /></span><span class="default">?&gt;</span>
</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="105939">  <div class="votes">
                <div id="Vu105939">
                    <a href="/manual/vote-note.php?id=105939&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd105939">
                    <a href="/manual/vote-note.php?id=105939&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V105939" title="65% like this...">
                    55
                </div>
            </div>
                <a href="#105939" class="name">
                    <strong class="user"><em>moostende at gmail dot com</em></strong></a><a class="genanchor" href="#105939"> &para;</a><div class="date" title="2011-09-26 11:20"><strong>9 years ago</strong></div>
            </div>
            <div class="note" id="91536">  <div class="votes">
                <div id="Vu91536">
                    <a href="/manual/vote-note.php?id=91536&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd91536">
                    <a href="/manual/vote-note.php?id=91536&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V91536" title="65% like this...">
                    38
                </div>
            </div>
                <a href="#91536" class="name">
                    <strong class="user"><em>Alberto Lepe</em></strong></a><a class="genanchor" href="#91536"> &para;</a><div class="date" title="2009-06-15 07:44"><strong>12 years ago</strong></div>
            </div>
            <div class="note" id="122929">  <div class="votes">
                <div id="Vu122929">
                    <a href="/manual/vote-note.php?id=122929&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd122929">
                    <a href="/manual/vote-note.php?id=122929&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V122929" title="66% like this...">
                    8
                </div>
            </div>

            </div>
            <div class="note" id="95198">
            </div>
            </div>
            <div class="note" id="88569">  <div class="votes">
                <div id="Vu88569">
                    <a href="/manual/vote-note.php?id=88569&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd88569">
                    <a href="/manual/vote-note.php?id=88569&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V88569" title="60% like this...">
                    9
                </div>
            </div>
                <a href="#88569" class="name">
                    <strong class="user"><em>michael dot moussa at gmail dot com</em></strong></a><a class="genanchor" href="#88569"> &para;</a><div class="date" title="2009-01-29 06:38"><strong>12 years ago</strong></div>
                <div class="text" id="Hcom88569">
                    <div class="phpcode"><code><span class="html">
As previous commentators mentioned, when $search contains values that occur earlier in $replace, str_replace will factor those previous replacements into the process rather than operating solely on the original string.&nbsp; This may produce unexpected output.<br /><br />Example:<br /><br /><span class="default">&lt;?php<br />$search </span><span class="keyword">= array(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">);<br /></span><span class="default">$replace </span><span class="keyword">= array(</span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">, </span><span class="string">'F'</span><span class="keyword">);<br /></span><span class="default">$subject </span><span class="keyword">= </span><span class="string">'ABCDE'</span><span class="keyword">;<br /><br />echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">); </span><span class="comment">// output: 'FFFFFF'<br /></span><span class="default">?&gt;<br /></span><br />In the above code, the $search and $replace should replace each occurrence in the $subject with the next letter in the alphabet.&nbsp; The expected output for this sample is 'BCDEF'; however, the actual output is 'FFFFF'.<br /><br />To more clearly illustrate this, consider the following example:<br /><br /><span class="default">&lt;?php<br />$search </span><span class="keyword">= array(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">);<br /></span><span class="default">$replace </span><span class="keyword">= array(</span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">, </span><span class="string">'F'</span><span class="keyword">);<br /></span><span class="default">$subject </span><span class="keyword">= </span><span class="string">'A'</span><span class="keyword">;<br /><br />echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">); </span><span class="comment">// output: 'F'<br /></span><span class="default">?&gt;<br /></span><br />Since 'A' is the only letter in the $search array that appears in $subject, one would expect the result to be 'B'; however, replacement number $n does *not* operate on $subject, it operates on $subject after the previous $n-1 replacements have been completed.<br /><br />The following function utilizes array_combine and strtr to produce the expected output, and I believe it is the most efficient way to perform the desired string replacement without prior replacements affecting the final result.<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br />* When using str_replace(...), values that did not exist in the original string (but were put there by previous<br />* replacements) will be replaced continuously.&nbsp; This string replacement function is designed replace the values<br />* in $search with those in $replace while not factoring in prior replacements.&nbsp; Note that this function will<br />* always look for the longest possible match first and then work its way down to individual characters.<br />*<br />* The "o" in "stro_replace" represents "original", indicating that the function operates only on the original string.<br />*<br />* @param array $search list of strings or characters that need to be replaced<br />* @param array $replace list of strings or characters that will replace the corresponding values in $search<br />* @param string $subject the string on which this operation is being performed<br />*<br />* @return string $subject with all substrings in the $search array replaced by the values in the $replace array<br />*/<br /></span><span class="keyword">function </span><span class="default">stro_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">)<br />{<br />&nbsp; &nbsp; return </span><span class="default">strtr</span><span class="keyword">( </span><span class="default">$subject</span><span class="keyword">, </span><span class="default">array_combine</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">) );<br />}<br /><br /></span><span class="default">$search </span><span class="keyword">= array(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">);<br /></span><span class="default">$replace </span><span class="keyword">= array(</span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">, </span><span class="string">'F'</span><span class="keyword">);<br /></span><span class="default">$subject </span><span class="keyword">= </span><span class="string">'ABCDE'</span><span class="keyword">;<br /><br />echo </span><span class="default">stro_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">); </span><span class="comment">// output: 'BCDEF'<br /></span><span class="default">?&gt;<br /></span><br />Some other examples:<br /><br /><span class="default">&lt;?php<br />$search </span><span class="keyword">= array(</span><span class="string">' '</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">);<br /></span><span class="default">$replace </span><span class="keyword">= array(</span><span class="string">'&amp;nbsp;'</span><span class="keyword">, </span><span class="string">'&amp;amp;'</span><span class="keyword">);<br /></span><span class="default">$subject </span><span class="keyword">= </span><span class="string">'Hello &amp; goodbye!'</span><span class="keyword">;<br /><br /></span><span class="comment">// We want to replace the spaces with &amp;nbsp; and the ampersand with &amp;amp;<br /></span><span class="keyword">echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">); </span><span class="comment">// output: "Hello&amp;amp;nbsp&amp;amp;&amp;amp;nbspgoodbye!" - wrong!<br /><br /></span><span class="keyword">echo </span><span class="default">stro_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">); </span><span class="comment">// output: "Hello&amp;nbsp;&amp;amp;&amp;nbsp;goodbye!" - correct!<br /><br />/*<br />&nbsp; &nbsp; Note:&nbsp; Run the above code in the CLI or view source on your web browser - the replacement strings for stro_replace are HTML entities which the browser interprets.<br />*/<br /></span><span class="default">?&gt;<br /></span><br /><span class="default">&lt;?php<br />$search </span><span class="keyword">= array(</span><span class="string">'ERICA'</span><span class="keyword">, </span><span class="string">'AMERICA'</span><span class="keyword">);<br /></span><span class="default">$replace </span><span class="keyword">= array(</span><span class="string">'JON'</span><span class="keyword">, </span><span class="string">'PHP'</span><span class="keyword">);<br /></span><span class="default">$subject </span><span class="keyword">= </span><span class="string">'MIKE AND ERICA LIKE AMERICA'</span><span class="keyword">;<br /><br /></span><span class="comment">// We want to replace the name "ERICA" with "JON" and the word "AMERICA" with "PHP"<br /></span><span class="keyword">echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">); </span><span class="comment">// output: "MIKE AND JON LIKE AMJON", which is not correct<br /><br /></span><span class="keyword">echo </span><span class="default">stro_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">); </span><span class="comment">// output: "MIKE AND JON LIKE PHP", which is correct<br /></span><span class="default">?&gt;</span>
</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="97526">  <div class="votes">
                <div id="Vu97526">
                    <a href="/manual/vote-note.php?id=97526&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd97526">
                    <a href="/manual/vote-note.php?id=97526&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V97526" title="59% like this...">
                    7
                </div>
            </div>
                <a href="#97526" class="name">
                    <strong class="user"><em>pjcdawkins at googlemail dot com</em></strong></a><a class="genanchor" href="#97526"> &para;</a><div class="date" title="2010-04-23 05:23"><strong>11 years ago</strong></div>
                <div class="text" id="Hcom97526">
                    <div class="phpcode"><code><span class="html">
Here's a deep replace function allowing multi-dimensional arrays in $search, $replace and $subject. The keys and other structure of $subject are preserved.<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// Auxiliary function:<br /></span><span class="keyword">function </span><span class="default">_replaceWithAnything</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">,</span><span class="default">$replace</span><span class="keyword">,</span><span class="default">$subject</span><span class="keyword">){<br />&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">) || !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$replace</span><span class="keyword">)){<br />&nbsp; &nbsp; </span><span class="default">$search</span><span class="keyword">=array(</span><span class="default">$search</span><span class="keyword">);<br />&nbsp; &nbsp; </span><span class="default">$replace</span><span class="keyword">=array(</span><span class="default">$replace</span><span class="keyword">);<br />&nbsp; }<br />&nbsp; </span><span class="default">$match</span><span class="keyword">=</span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$subject</span><span class="keyword">,</span><span class="default">$search</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br />&nbsp; if(</span><span class="default">$match</span><span class="keyword">!==</span><span class="default">false </span><span class="keyword">&amp;&amp; </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">,</span><span class="default">$replace</span><span class="keyword">))<br />&nbsp; &nbsp; </span><span class="default">$subject</span><span class="keyword">=</span><span class="default">$replace</span><span class="keyword">[</span><span class="default">$match</span><span class="keyword">];<br />&nbsp; return </span><span class="default">$subject</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">// Main function:<br /></span><span class="keyword">function </span><span class="default">deepReplace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">,</span><span class="default">$replace</span><span class="keyword">,</span><span class="default">$subject</span><span class="keyword">){<br />&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$subject</span><span class="keyword">))<br />&nbsp; &nbsp; return </span><span class="default">_replaceWithAnything</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">,</span><span class="default">$replace</span><span class="keyword">,</span><span class="default">$subject</span><span class="keyword">);<br />&nbsp; foreach(</span><span class="default">$subject </span><span class="keyword">as &amp;</span><span class="default">$val</span><span class="keyword">){<br />&nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)){<br />&nbsp; &nbsp; &nbsp; </span><span class="default">$val</span><span class="keyword">=</span><span class="default">deepReplace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">,</span><span class="default">$replace</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; continue;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; </span><span class="default">$val</span><span class="keyword">=</span><span class="default">_replaceWithAnything</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">,</span><span class="default">$replace</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">);<br />&nbsp; }<br />&nbsp; return </span><span class="default">$subject</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span>
</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="102465">  <div class="votes">
                <div id="Vu102465">
                    <a href="/manual/vote-note.php?id=102465&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd102465">
                    <a href="/manual/vote-note.php?id=102465&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V102465" title="56% like this...">
                    10
                </div>
            </div>
                <a href="#102465" class="name">
                    <strong class="user"><em>jay_knows_(all)uk at hotmail dot com</em></strong></a><a class="genanchor" href="#102465"> &para;</a><div class="date" title="2011-02-16 07:16"><strong>10 years ago</strong></div>
                <div class="text" id="Hcom102465">
                    <div class="phpcode"><code><span class="html">
This strips out horrible MS word characters. <br /><br />Just keep fine tuning it until you get what you need, you'll see ive commented some out which caused problems for me.<br /><br />There could be some that need adding in, but its a start to anyone who wishes to make their own custom function.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">msword_conversion</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) <br />{ <br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">130</span><span class="keyword">), </span><span class="string">','</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// baseline single quote<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">131</span><span class="keyword">), </span><span class="string">'NLG'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; </span><span class="comment">// florin<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">132</span><span class="keyword">), </span><span class="string">'"'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// baseline double quote<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">133</span><span class="keyword">), </span><span class="string">'...'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; </span><span class="comment">// ellipsis<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">134</span><span class="keyword">), </span><span class="string">'**'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">// dagger (a second footnote)<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">135</span><span class="keyword">), </span><span class="string">'***'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; </span><span class="comment">// double dagger (a third footnote)<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">136</span><span class="keyword">), </span><span class="string">'^'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// circumflex accent<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">137</span><span class="keyword">), </span><span class="string">'o/oo'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">); </span><span class="comment">// permile<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">138</span><span class="keyword">), </span><span class="string">'Sh'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">// S Hacek<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">139</span><span class="keyword">), </span><span class="string">'&lt;'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// left single guillemet<br />// $str = str_replace(chr(140), 'OE', $str);&nbsp;&nbsp; // OE ligature<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">145</span><span class="keyword">), </span><span class="string">"'"</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// left single quote<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">146</span><span class="keyword">), </span><span class="string">"'"</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// right single quote<br />// $str = str_replace(chr(147), '"', $str);&nbsp; &nbsp; // left double quote<br />// $str = str_replace(chr(148), '"', $str);&nbsp; &nbsp; // right double quote<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">149</span><span class="keyword">), </span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// bullet<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">150</span><span class="keyword">), </span><span class="string">'-–'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// endash<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">151</span><span class="keyword">), </span><span class="string">'--'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">// emdash<br />// $str = str_replace(chr(152), '~', $str);&nbsp; &nbsp; // tilde accent<br />// $str = str_replace(chr(153), '(TM)', $str); // trademark ligature<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">154</span><span class="keyword">), </span><span class="string">'sh'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">// s Hacek<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">155</span><span class="keyword">), </span><span class="string">'&gt;'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// right single guillemet<br />// $str = str_replace(chr(156), 'oe', $str);&nbsp;&nbsp; // oe ligature<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">159</span><span class="keyword">), </span><span class="string">'Y'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// Y Dieresis<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'°C'</span><span class="keyword">, </span><span class="string">'&amp;deg;C'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// Celcius is used quite a lot so it makes sense to add this in<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'£'</span><span class="keyword">, </span><span class="string">'&amp;pound;'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">); <br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"'"</span><span class="keyword">, </span><span class="string">"'"</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'"'</span><span class="keyword">, </span><span class="string">'"'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br /></span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'–'</span><span class="keyword">, </span><span class="string">'&amp;ndash;'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br /><br />return </span><span class="default">$str</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;</span>
</span>
                    </code></div>
                </div>
            </div>

            <div class="note" id="115946">  <div class="votes">
                <div id="Vu115946">
                    <a href="/manual/vote-note.php?id=115946&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd115946">
                    <a href="/manual/vote-note.php?id=115946&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V115946" title="52% like this...">
                    1
                </div>
            </div>
                <a href="#115946" class="name">
                    <strong class="user"><em>karst at onlinq dot nl</em></strong></a><a class="genanchor" href="#115946"> &para;</a><div class="date" title="2014-10-17 01:57"><strong>6 years ago</strong></div>
                <div class="text" id="Hcom115946">
                    <div class="phpcode"><code><span class="html">
"If search is an array and replace is a string, then this replacement string is used for every value of search. The converse would not make sense, though. "<br /><br />I think one important (and not at all vaguely theoretical) use-case is completely ignored here. Take, for example, the way the PDO handles parameter replacement.<br /><br />If we have the following query:<br />"SELECT * FROM my_table WHERE (id = ? AND my_column = ? AND other_column = ?);"<br />The "?"s should be replaced by each successive variable in a $parameters array. That is EXACTLY the use case for "search" being a value and "replace" being an array. <br /><br />Considering that this is not only a real-world example but also part of a core PHP functionality I find it very strange that it's dismissed so easily here.</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="108196">  <div class="votes">
                <div id="Vu108196">
                    <a href="/manual/vote-note.php?id=108196&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd108196">
                    <a href="/manual/vote-note.php?id=108196&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V108196" title="52% like this...">
                    2
                </div>
            </div>
                <a href="#108196" class="name">
                    <strong class="user"><em>Denzel Morris</em></strong></a><a class="genanchor" href="#108196"> &para;</a><div class="date" title="2012-04-06 02:43"><strong>9 years ago</strong></div>
                <div class="text" id="Hcom108196">
                    <div class="phpcode"><code><span class="html">
Maybe obvious to veteran PHP programmers but less so to novice PHP programmers is the fact that this is invalid:<br /><span class="default">&lt;?php<br />str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span>At a glance it appears to be a reasonable request, until you realize that the fourth parameter must be a variable in order to be passed as a reference. A replacement:<br /><span class="default">&lt;?php<br />str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">, </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">);<br /></span><span class="comment">// or<br /></span><span class="default">$temp </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br /></span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">, </span><span class="default">$temp</span><span class="keyword">);<br /></span><span class="default">?&gt;</span>
</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="126182">  <div class="votes">
                <div id="Vu126182">
                    <a href="/manual/vote-note.php?id=126182&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd126182">
                    <a href="/manual/vote-note.php?id=126182&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V126182" title="no votes...">
                    0
                </div>
            </div>
                <a href="#126182" class="name">
                    <strong class="user"><em>ressing1 at gmail dot com</em></strong></a><a class="genanchor" href="#126182"> &para;</a><div class="date" title="2021-06-21 08:34"><strong>1 month ago</strong></div>
                <div class="text" id="Hcom126182">
                    <div class="phpcode"><code><span class="html">
To remove all characters from string $b that exist in string $a:<br /><br />$a="ABC";<br />$b="teAsBtC";<br />echo str_replace(str_split($a),'',$b); <br /><br />Output: test<br /><br />To remove all characters from string $b that don't exist in string $a:<br /><br />$a="ABC";<br />$b="teAsBtC";<br />echo str_replace(str_split(str_replace(str_split($a),'',$b)),'',$b);<br /><br />Output: ABC</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="124733">  <div class="votes">
                <div id="Vu124733">
                    <a href="/manual/vote-note.php?id=124733&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd124733">
                    <a href="/manual/vote-note.php?id=124733&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V124733" title="0% like this...">
                    -2
                </div>
            </div>
                <a href="#124733" class="name">
                    <strong class="user"><em>iskus1981 at gmail dot com</em></strong></a><a class="genanchor" href="#124733"> &para;</a><div class="date" title="2020-02-19 09:21"><strong>1 year ago</strong></div>
                <div class="text" id="Hcom124733">
                    <div class="phpcode"><code><span class="html">
bracesChecker($str) {<br />&nbsp; &nbsp; while($str) {<br />&nbsp; &nbsp; &nbsp; &nbsp; $str = str_replace(['()','[]','{}'], '', $str, $count);<br />&nbsp; &nbsp; &nbsp; &nbsp; if (!$str) return true;<br />&nbsp; &nbsp; &nbsp; &nbsp; if (!$count &amp;&amp; $str) return false;<br />&nbsp; &nbsp; }<br />}<br />$str = '[}]{(){][}()';<br />echo bracesChecker($str);<br />//false<br />$str = '([]{})[{}[]{[]}([{[]}])';<br />echo bracesChecker ($str);<br />//true</span>
                    </code></div>
                </div>
            </div>

            <div class="note" id="104890">  <div class="votes">
                <div id="Vu104890">
                    <a href="/manual/vote-note.php?id=104890&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd104890">
                    <a href="/manual/vote-note.php?id=104890&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V104890" title="50% like this...">
                    0
                </div>
            </div>
                <a href="#104890" class="name">
                    <strong class="user"><em>mbullard at accuvista dot co dot uk</em></strong></a><a class="genanchor" href="#104890"> &para;</a><div class="date" title="2011-07-14 02:42"><strong>10 years ago</strong></div>
                <div class="text" id="Hcom104890">
                    <div class="phpcode"><code><span class="html">
Insert space after comma.<br /><br />If you have a form that stores results in a database field as comma separated values, when you display this data you can use the following to insert a space after each comma:<br /><br /><span class="default">&lt;?php<br />$find</span><span class="keyword">[] = </span><span class="string">','</span><span class="keyword">;<br /></span><span class="default">$replace</span><span class="keyword">[] = </span><span class="string">'&amp;#44;&amp;nbsp;'</span><span class="keyword">;<br /></span><span class="default">$text </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$find</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$row_rsRecordset</span><span class="keyword">[</span><span class="string">'Field'</span><span class="keyword">]);<br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Notes:<br />1) To get round the Replacement Order Gotcha, the comma is also replaced with its code equivalent: &amp;#44;<br />2) You can adapt the $replace section to suit your needs: swap out the &amp;nbsp; code with &lt;br/&gt; or replace comma and space with &amp;nbsp;&amp;middot;&amp;nbsp; etc.</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="116797">  <div class="votes">
                <div id="Vu116797">
                    <a href="/manual/vote-note.php?id=116797&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd116797">
                    <a href="/manual/vote-note.php?id=116797&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V116797" title="47% like this...">
                    -1
                </div>
            </div>
                <a href="#116797" class="name">
                    <strong class="user"><em>borasahin at gmail dot com</em></strong></a><a class="genanchor" href="#116797"> &para;</a><div class="date" title="2015-03-02 08:59"><strong>6 years ago</strong></div>
                <div class="text" id="Hcom116797">
                    <div class="phpcode"><code><span class="html">
jSON Turkish Characters Problem - (PHP &lt; 5.4 for example)<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">json_decode_tr</span><span class="keyword">(</span><span class="default">$json</span><span class="keyword">){<br />&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$json_char </span><span class="keyword">= array(</span><span class="string">"u00e7"</span><span class="keyword">,</span><span class="string">"u0131"</span><span class="keyword">,</span><span class="string">"u00fc"</span><span class="keyword">,</span><span class="string">"u011f"</span><span class="keyword">,</span><span class="string">"u00f6"</span><span class="keyword">,</span><span class="string">"u015f"</span><span class="keyword">,</span><span class="string">"u0130"</span><span class="keyword">,</span><span class="string">"u011e"</span><span class="keyword">,</span><span class="string">"u00dc"</span><span class="keyword">,</span><span class="string">"u00d6"</span><span class="keyword">,</span><span class="string">"u015e"</span><span class="keyword">,</span><span class="string">"u00c7"</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$turkish </span><span class="keyword">= array(</span><span class="string">"ç"</span><span class="keyword">,</span><span class="string">"ı"</span><span class="keyword">,</span><span class="string">"ü"</span><span class="keyword">,</span><span class="string">"ğ"</span><span class="keyword">,</span><span class="string">"ö"</span><span class="keyword">,</span><span class="string">"ş"</span><span class="keyword">,</span><span class="string">"İ"</span><span class="keyword">,</span><span class="string">"Ğ"</span><span class="keyword">,</span><span class="string">"Ü"</span><span class="keyword">,</span><span class="string">"Ö"</span><span class="keyword">,</span><span class="string">"Ş"</span><span class="keyword">,</span><span class="string">"Ç"</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$json_char</span><span class="keyword">, </span><span class="default">$turkish</span><span class="keyword">, </span><span class="default">$json</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">json_decode</span><span class="keyword">(</span><span class="default">$json</span><span class="keyword">);<br />&nbsp; &nbsp; }<br /></span><span class="default">?&gt;</span>
</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="119930">  <div class="votes">
                <div id="Vu119930">
                    <a href="/manual/vote-note.php?id=119930&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd119930">
                    <a href="/manual/vote-note.php?id=119930&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V119930" title="47% like this...">
                    -1
                </div>
            </div>
                <a href="#119930" class="name">
                    <strong class="user"><em>flame2000 at mail dot ru</em></strong></a><a class="genanchor" href="#119930"> &para;</a><div class="date" title="2016-09-21 07:17"><strong>4 years ago</strong></div>
                <div class="text" id="Hcom119930">
                    <div class="phpcode"><code><span class="html">
Replace chars in multi-byte string.<br />In example, replacing 'f'=&gt;'b', 'o'=&gt;'e', 't'=&gt;'r' and etc.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">mb_chars_replace</span><span class="keyword">(</span><span class="default">$from</span><span class="keyword">, </span><span class="default">$to</span><span class="keyword">, </span><span class="default">$subj</span><span class="keyword">, </span><span class="default">$delSymb</span><span class="keyword">=</span><span class="string">'_'</span><span class="keyword">) {<br />&nbsp; &nbsp;&nbsp; </span><span class="default">$nsubj</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />&nbsp; &nbsp;&nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/(.)/u'</span><span class="keyword">, </span><span class="default">$subj</span><span class="keyword">, </span><span class="default">$subj</span><span class="keyword">);</span><span class="default">$subj</span><span class="keyword">=</span><span class="default">$subj</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />&nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$from</span><span class="keyword">)) {</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/(.)/u'</span><span class="keyword">, </span><span class="default">$from</span><span class="keyword">, </span><span class="default">$from</span><span class="keyword">);</span><span class="default">$from</span><span class="keyword">=</span><span class="default">$from</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];} <br />&nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$to</span><span class="keyword">)) {</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/(.)/u'</span><span class="keyword">, </span><span class="default">$to</span><span class="keyword">, </span><span class="default">$to</span><span class="keyword">);</span><span class="default">$to</span><span class="keyword">=</span><span class="default">$to</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];}<br />&nbsp; &nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$from</span><span class="keyword">)!==</span><span class="default">count</span><span class="keyword">(</span><span class="default">$to</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br /><br />&nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$subj </span><span class="keyword">as </span><span class="default">$s</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$from </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$f</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$s</span><span class="keyword">===</span><span class="default">$f</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$s</span><span class="keyword">=</span><span class="default">$to</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />&nbsp; &nbsp; &nbsp;&nbsp; }<br />&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$s</span><span class="keyword">!==</span><span class="default">$delSymb</span><span class="keyword">) </span><span class="default">$nsubj</span><span class="keyword">.=</span><span class="default">$s</span><span class="keyword">;<br />&nbsp; &nbsp;&nbsp; }<br />&nbsp; &nbsp; return </span><span class="default">$nsubj</span><span class="keyword">;<br />} <br /><br /></span><span class="comment">//examples:<br /><br /></span><span class="default">$from</span><span class="keyword">=</span><span class="string">"fotber, "</span><span class="keyword">;<br /></span><span class="default">$to</span><span class="keyword">=</span><span class="string">"berfot+_"</span><span class="keyword">;<br /><br /></span><span class="comment">// or<br /><br /></span><span class="default">$from</span><span class="keyword">=array(</span><span class="string">"f"</span><span class="keyword">,</span><span class="string">"o"</span><span class="keyword">,</span><span class="string">"t"</span><span class="keyword">,</span><span class="string">"b"</span><span class="keyword">,</span><span class="string">"e"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">,</span><span class="string">","</span><span class="keyword">,</span><span class="string">" "</span><span class="keyword">);<br /></span><span class="default">$to</span><span class="keyword">=array(</span><span class="string">"b"</span><span class="keyword">,</span><span class="string">"e"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">,</span><span class="string">"f"</span><span class="keyword">,</span><span class="string">"o"</span><span class="keyword">,</span><span class="string">"t"</span><span class="keyword">,</span><span class="string">"+"</span><span class="keyword">,</span><span class="string">"_"</span><span class="keyword">);<br /><br /></span><span class="comment">//out:<br /></span><span class="keyword">echo </span><span class="default">mb_chars_replace</span><span class="keyword">(</span><span class="default">$from</span><span class="keyword">,</span><span class="default">$to</span><span class="keyword">,</span><span class="string">"foot, beer"</span><span class="keyword">); </span><span class="comment">//beer+foot<br /></span><span class="default">?&gt;</span>
</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="108430">  <div class="votes">
                <div id="Vu108430">
                    <a href="/manual/vote-note.php?id=108430&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd108430">
                    <a href="/manual/vote-note.php?id=108430&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V108430" title="46% like this...">
                    -2
                </div>
            </div>
                <a href="#108430" class="name">
                    <strong class="user"><em>christof dot rieger at r-tron dot de</em></strong></a><a class="genanchor" href="#108430"> &para;</a><div class="date" title="2012-04-25 08:41"><strong>9 years ago</strong></div>
                <div class="text" id="Hcom108430">
                    <div class="phpcode"><code><span class="html">
In many countries the numeric format is 1.000,33 in english it is 1,000.33<br /><br />This function converts numeric arguments always into the PHP confirm numeric format. If only one seperator is into the numericstring so it is interpreted as the decimalpoint.<br /><br /> function dp($zahl)<br />{<br />&nbsp; if ((strpos($zahl,".") &gt; "-1") | (strpos($zahl,",") &gt; "-1")) {<br />&nbsp; &nbsp; if ((strpos($zahl,".") &gt; "-1") &amp; (strpos($zahl,",") &gt; "-1")) {<br />&nbsp; &nbsp; &nbsp; if (strpos($zahl,".") &gt; strpos($zahl,",")){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return str_replace(",","",$zahl);<br />&nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return str_replace(",",".",str_replace(".","",$zahl));<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; } else {<br />&nbsp; &nbsp; &nbsp; if (strpos($zahl,".") &gt; "-1") {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (strpos($zahl,".") == strrpos($zahl,".")) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $zahl;<br />&nbsp; &nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return str_replace(".","",$zahl);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; } <br />&nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; if (strpos($zahl,",") == strrpos($zahl,",")) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return str_replace(",",".",$zahl);<br />&nbsp; &nbsp; &nbsp; } else {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return str_replace(",","",$zahl);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; } <br />&nbsp; &nbsp; } }<br />} else {<br />&nbsp; &nbsp; return $zahl;<br />} }</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="108134">  <div class="votes">
                <div id="Vu108134">
                    <a href="/manual/vote-note.php?id=108134&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd108134">
                    <a href="/manual/vote-note.php?id=108134&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V108134" title="45% like this...">
                    -3
                </div>
            </div>
                <a href="#108134" class="name">
                    <strong class="user"><em>cc at cc dot com</em></strong></a><a class="genanchor" href="#108134"> &para;</a><div class="date" title="2012-03-31 05:26"><strong>9 years ago</strong></div>
                <div class="text" id="Hcom108134">
                    <div class="phpcode"><code><span class="html">
I found a pretty low tech solution to avoid the "gotcha" without worrying about the array order of how things are replaced. I could not "order" the replacement array easily because it was being read from a database table.<br /><br />Anyway if you add an identifiable token to each replaced word, then just filter this out at the very end, no nested search terms are found. I just dynamically add the %% after the first char of each word before pumping it into the str_ireplace function.<br /><br />$find = array("as1", "as2", "as3", "flex");<br />$replace = array("&lt;a href = \"#as1\"&gt;A%%uto S%%entry R%%ev. A%%&lt;/a&gt;", "&lt;a href = \"#as2\"&gt;A%%uto S%%entry E%%xp&lt;/a&gt;", "&lt;a href = \"#as3\"&gt;A%%uto S%%entry f%%lex&lt;/a&gt;", "&lt;a style = \"color: red;\" href = \"#flex\"&gt;f%%lex&lt;/a&gt;");<br />$text = str_ireplace($find, $replace, $text);<br />echo str_ireplace("%%", "", $text);<br /><br />In this case I am using %% as my token as this is an unlikely char combo for me.</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="122463">  <div class="votes">
                <div id="Vu122463">
                    <a href="/manual/vote-note.php?id=122463&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd122463">
                    <a href="/manual/vote-note.php?id=122463&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V122463" title="42% like this...">
                    -2
                </div>
            </div>
                <a href="#122463" class="name">
                    <strong class="user"><em>jefrey at forteras dot tech</em></strong></a><a class="genanchor" href="#122463"> &para;</a><div class="date" title="2018-03-02 02:54"><strong>3 years ago</strong></div>
                <div class="text" id="Hcom122463">
                    <div class="phpcode"><code><span class="html">
NEVER USE this function to protect against SQL Injection.<br /><br />It may sound ridiculous but I've seen a couple of developers doing so.<br /><br />It's interesting that these developers use str_replace (let's ignore the fact that they don't even use the str_ireplace which is case-insensitive) to remove common SQL commands such as "SELECT" or "DROP" from user-entered inputs.<br /><br />A funny thing to note is that:<br /><br /><span class="default">&lt;?php<br />$input </span><span class="keyword">= </span><span class="string">"SELSELECTECT"</span><span class="keyword">;<br />echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"SELECT"</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">); </span><span class="comment">// = SELECT<br /></span><span class="default">?&gt;<br /></span><br />Yeah you could loop it, but str_replace was never meant to be used this way. There are proper ways to protect against SQL Injections, such as using prepared statements (placeholders).</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="97904">  <div class="votes">
                <div id="Vu97904">
                    <a href="/manual/vote-note.php?id=97904&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd97904">
                    <a href="/manual/vote-note.php?id=97904&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V97904" title="41% like this...">
                    -2
                </div>
            </div>
                <a href="#97904" class="name">
                    <strong class="user"><em>christian dot reinecke at web dot de</em></strong></a><a class="genanchor" href="#97904"> &para;</a><div class="date" title="2010-05-14 12:06"><strong>11 years ago</strong></div>
                <div class="text" id="Hcom97904">
                    <div class="phpcode"><code><span class="html">
If you need to replace a string in another, but only once but still in all possible combinations (f.e. to replace "a" with "x" in "aba" to get array("xba", "abx")) you can use this function:<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">getSingleReplaceCombinations</span><span class="keyword">(</span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$with</span><span class="keyword">, </span><span class="default">$inHaystack</span><span class="keyword">)<br />{<br />&nbsp; &nbsp; </span><span class="default">$splits </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$inHaystack</span><span class="keyword">);<br />&nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">, </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$splits</span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$ix</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">) {<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$previous </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$splits</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$next&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$splits</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$combine&nbsp; </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$previous</span><span class="keyword">) . </span><span class="default">$with </span><span class="keyword">. </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$next</span><span class="keyword">);<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[] = </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$replace</span><span class="keyword">, </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$previous</span><span class="keyword">, array(</span><span class="default">$combine</span><span class="keyword">), </span><span class="default">$next</span><span class="keyword">));<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />}<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">getSingleReplaceCombinations</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"x"</span><span class="keyword">, </span><span class="string">"aba"</span><span class="keyword">)); </span><span class="comment">// result as mentioned above<br /></span><span class="default">?&gt;<br /></span>It may not be the best in performance, but it works.</span>
                    </code></div>
                </div>
            </div>
            <div class="note" id="112749">  <div class="votes">
                <div id="Vu112749">
                    <a href="/manual/vote-note.php?id=112749&amp;page=function.str-replace&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
                </div>
                <div id="Vd112749">
                    <a href="/manual/vote-note.php?id=112749&amp;page=function.str-replace&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
                </div>
                <div class="tally" id="V112749" title="36% like this...">
                    -7
                </div>
            </div>
                <a href="#112749" class="name">
                    <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="#112749"> &para;</a><div class="date" title="2013-07-19 10:01"><strong>8 years ago</strong></div>
                <div class="text" id="Hcom112749">
                    <div class="phpcode"><code><span class="html">
@moostende at gmail dot com<br />If you want to remove all dashes but one from the string '-aaa----b-c-----d--e---f' resulting in '-aaa-b-c-d-e-f', you CAN use str_replace !<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)<br />{<br />&nbsp; &nbsp; do {<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"--"</span><span class="keyword">, </span><span class="string">"-"</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">);<br />&nbsp; &nbsp; } while (</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">);<br />&nbsp; &nbsp; return </span><span class="default">$str</span><span class="keyword">;<br />}<br />echo </span><span class="default">foo</span><span class="keyword">(</span><span class="string">"-aaa----b-c-----d--e---f"</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />This outputs the following: <br />-aaa-b-c-d-e-f</span>
                    </code></div>
                </div>
            </div></div>

            <div class="foot"><a href="/manual/add-note.php?sect=function.str-replace&amp;redirect=https://www.php.net/manual/en/function.str-replace.php"><img src='/images/notes-add@2x.png' alt='add a note' width='12' height='12'> <small>add a note</small></a></div>
        </section>    </section><!-- layout-content -->

</div><!-- layout -->

</body>
</html>
